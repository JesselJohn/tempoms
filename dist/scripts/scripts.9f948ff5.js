"use strict";angular.module("omsieApp",["ngCookies","ngRoute","ngSanitize","ui.bootstrap"]).constant("CONSTANTS",{API_URL:"http://localhost:9000"}).config(["$routeProvider","$httpProvider","$locationProvider",function(a,b,c){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/pickuporder",{templateUrl:"views/pickuporder.html",controller:"PickuporderCtrl",controllerAs:"pickup"}).when("/orderdetail/:consignmentId",{templateUrl:"views/orderdetail.html",controller:"OrderdetailCtrl",controllerAs:"orderdetail"}).otherwise({redirectTo:"/"}),b.defaults.useXDomain=!0,b.interceptors.push("AuthInterceptor"),c.html5Mode(!0)}]).run(["$rootScope","$timeout",function(a,b){}]),angular.module("omsieApp").controller("MainCtrl",["MainService","MainData","$scope",function(a,b,c){function d(){return c.data?c.data.store.DELIVERY.ASSIGNED+c.data.store.STOREPICK.ASSIGNED+c.data.warehouse.DELIVERY.ASSIGNED:""}c.MainData=b,c.getAllOrdersNum=d,a.getDashboardData().then(function(a){c.data=a}),a.getReturnData().then(function(a){c.returnData=a})}]),angular.module("omsieApp").controller("PickuporderCtrl",["PickuporderService","PickupOrderData","$scope",function(a,b,c){c.PickupOrderData=b,a.getPickuporderData().then(function(a){c.pickUpdata=a})}]),!function(a,b,c){b.module("omsieApp").factory("AuthInterceptor",["$rootScope","$q","$cookieStore","$location",function(c,d,e,f){return{request:function(b){var c=d.defer();return b.headers=b.headers||{},b.url.indexOf(omsconfig.backend)>-1?(console.log("OMS ADMINS>>>>"+b.url),b.headers.isadmin=!0):console.log("LMS >>>>"+b.url),keycloak.authenticated?keycloak.updateToken(50).success(function(a){a?console.debug("Token Refreshed"):console.debug("Existing Token Valid"),b.headers.Authorization="Bearer "+keycloak.token,c.resolve(b)}).error(function(){c.reject({}),keycloak.logout({redirectUri:a.location.origin})}):(c.reject({}),keycloak.logout({redirectUri:a.location.origin})),c.promise},response:function(a){return 299===a.status?d.reject(a):d.when(a)},responseError:function(c){if(401===c.status)return keycloak.logout({redirectUri:a.location.origin}),d.reject(c);if(403===c.status||400===c.status||c.status>=500&&c.status<600){var e=c.headers();if(e.failure){var f=b.extend({},c);return f.data={},f.data.error=e.failure,d.reject(f)}return d.reject(c)}return d.reject(c)}}}])}(window,angular),angular.module("omsieApp").factory("MainService",["CONSTANTS","$http","$q",function(a,b,c){var d={getReturnData:function(){var d=c.defer();return b({method:"GET",url:a.API_URL+"/api/returnorder/query?returnStatus=INITIATED&returnMode=RETURNTOSTORE&page=0&size=1"}).success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise},getDashboardData:function(){var d=c.defer();return b({method:"GET",url:a.API_URL+"/api/statuscount/dashboardCount"}).success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise}};return d}]),function(a,b){var c=function(b){function d(){return"/"==r.authServerUrl.charAt(r.authServerUrl.length-1)?r.authServerUrl+"realms/"+encodeURIComponent(r.realm):r.authServerUrl+"/realms/"+encodeURIComponent(r.realm)}function e(){return a.location.origin?a.location.origin:a.location.protocol+"//"+a.location.hostname+(a.location.port?":"+a.location.port:"")}function f(a,b){var c=a.code,e=a.error,f=a.prompt;if(c){var g="code="+c+"&grant_type=authorization_code",i=d()+"/protocol/openid-connect/token",j=new XMLHttpRequest;j.open("POST",i,!0),j.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.clientId&&r.clientSecret?j.setRequestHeader("Authorization","Basic "+btoa(r.clientId+":"+r.clientSecret)):g+="&client_id="+encodeURIComponent(r.clientId),g+="&redirect_uri="+a.redirectUri,j.withCredentials=!0;var k=(new Date).getTime();j.onreadystatechange=function(){if(4==j.readyState)if(200==j.status){k=(k+(new Date).getTime())/2;var a=JSON.parse(j.responseText);h(a.access_token,a.refresh_token,a.id_token),r.timeSkew=Math.floor(k/1e3)-r.tokenParsed.iat,r.onAuthSuccess&&r.onAuthSuccess(),b&&b.setSuccess()}else r.onAuthError&&r.onAuthError(),b&&b.setError()},j.send(g)}else e&&("none"!=f?(r.onAuthError&&r.onAuthError(),b&&b.setError()):b&&b.setSuccess())}function g(a){var c,d=m();if(b?"string"==typeof b&&(c=b):c="keycloak.json",c){var e=new XMLHttpRequest;e.open("GET",c,!0),e.setRequestHeader("Accept","application/json"),e.onreadystatechange=function(){if(4==e.readyState)if(200==e.status){var a=JSON.parse(e.responseText);r.authServerUrl=a["auth-server-url"],r.realm=a.realm,r.clientId=a.resource,r.clientSecret=(a.credentials||{}).secret,d.setSuccess()}else d.setError()},e.send()}else{if(!b.url)for(var f=document.getElementsByTagName("script"),g=0;g<f.length;g++)if(f[g].src.match(/.*keycloak\.js/)){b.url=f[g].src.substr(0,f[g].src.indexOf("/js/keycloak.js"));break}if(!b.realm)throw"realm missing";if(!b.clientId)throw"clientId missing";r.authServerUrl=b.url,r.realm=b.realm,r.clientId=b.clientId,r.clientSecret=(b.credentials||{}).secret,d.setSuccess()}return d.promise}function h(a,b,c){if(a){r.token=a,r.tokenParsed=i(a);var d=r.realm+"/"+r.tokenParsed.sub;r.tokenParsed.session_state&&(d=d+"/"+r.tokenParsed.session_state),r.sessionId=d,r.authenticated=!0,r.subject=r.tokenParsed.sub,r.realmAccess=r.tokenParsed.realm_access,r.resourceAccess=r.tokenParsed.resource_access}else delete r.token,delete r.tokenParsed,delete r.subject,delete r.realmAccess,delete r.resourceAccess,r.authenticated=!1;b?(r.refreshToken=b,r.refreshTokenParsed=i(b)):(delete r.refreshToken,delete r.refreshTokenParsed),c?(r.idToken=c,r.idTokenParsed=i(c)):(delete r.idToken,delete r.idTokenParsed)}function i(a){switch(a=a.split(".")[1],a=a.replace("/-/g","+"),a=a.replace("/_/g","/"),a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw"Invalid token"}return a=(a+"===").slice(0,a.length+a.length%4),a=a.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(escape(atob(a))),a=JSON.parse(a)}function j(){for(var a=[],b="0123456789abcdef",c=0;36>c;c++)a[c]=b.substr(Math.floor(16*Math.random()),1);a[14]="4",a[19]=b.substr(3&a[19]|8,1),a[8]=a[13]=a[18]=a[23]="-";var d=a.join("");return d}function k(){var a="<id: "+r.callback_id++ +Math.random()+">";return a}function l(a){if(-1!=a.indexOf("?")){var b={};b.newUrl=a.split("?")[0];var c=a.split("?")[1],d=c.indexOf("#");-1!=d&&(c=c.substring(0,d));for(var e=c.split("&"),f=0;f<e.length;f++){var g=e[f].split("=");switch(decodeURIComponent(g[0])){case"code":b.code=g[1];break;case"error":b.error=g[1];break;case"state":b.state=decodeURIComponent(g[1]);break;case"redirect_fragment":b.fragment=decodeURIComponent(g[1]);break;case"prompt":b.prompt=g[1];break;default:b.newUrl+=(-1==b.newUrl.indexOf("?")?"?":"&")+g[0]+"="+g[1]}}var h=sessionStorage.oauthState&&JSON.parse(sessionStorage.oauthState);if(h&&(b.code||b.error)&&b.state&&b.state==h.state)return delete sessionStorage.oauthState,b.redirectUri=h.redirectUri,b.fragment&&(b.newUrl+="#"+b.fragment),b}}function m(){var a={setSuccess:function(b){a.success=!0,a.result=b,a.successCallback&&a.successCallback(b)},setError:function(b){a.error=!0,a.result=b,a.errorCallback&&a.errorCallback(b)},promise:{success:function(b){return a.success?b(a.result):a.error||(a.successCallback=b),a.promise},error:function(b){return a.error?b(a.result):a.success||(a.errorCallback=b),a.promise}}};return a}function n(){var b=m();if(!t.enable)return b.setSuccess(),b.promise;if(t.iframe)return b.setSuccess(),b.promise;var c=document.createElement("iframe");t.iframe=c,c.onload=function(){var a=d();"/"===a.charAt(0)?t.iframeOrigin=e():t.iframeOrigin=a.substring(0,a.indexOf("/",8)),b.setSuccess(),setTimeout(h,1e3*t.interval)};var f=d()+"/protocol/openid-connect/login-status-iframe.html?client_id="+encodeURIComponent(r.clientId)+"&origin="+e();c.setAttribute("src",f),c.style.display="none",document.body.appendChild(c);var g=function(a){if(a.origin===t.iframeOrigin){var b=JSON.parse(a.data),c=t.callbackMap[b.callbackId];delete t.callbackMap[b.callbackId],r.sessionId&&r.sessionId!=b.session||!b.loggedIn?(r.clearToken(),c.setError()):c.setSuccess()}};a.addEventListener("message",g,!1);var h=function(){o(),r.token&&setTimeout(h,1e3*t.interval)};return b.promise}function o(){var a=m();if(t.iframe&&t.iframeOrigin){var b={};b.callbackId=k(),t.callbackMap[b.callbackId]=a;var c=t.iframeOrigin;t.iframe.contentWindow.postMessage(JSON.stringify(b),c)}else a.setSuccess();return a.promise}function p(b){if(!b||"default"==b)return{login:function(b){return a.location.href=r.createLoginUrl(b),m().promise},logout:function(b){return a.location.href=r.createLogoutUrl(b),m().promise},accountManagement:function(){return a.location.href=r.createAccountUrl(),m().promise},redirectUri:function(a){if(a&&a.redirectUri)return a.redirectUri;if(r.redirectUri)return r.redirectUri;var b=location.href;return location.hash&&(b=b.substring(0,location.href.indexOf("#")),b+=(-1==b.indexOf("?")?"?":"&")+"redirect_fragment="+encodeURIComponent(location.hash.substring(1))),b}};if("cordova"==b)return t.enable=!1,{login:function(b){var c=m(),d="location=no";b&&"none"==b.prompt&&(d+=",hidden=yes");var e,g,h=r.createLoginUrl(b),i=a.open(h,"_blank",d);return i.addEventListener("loadstart",function(a){0==a.url.indexOf("http://localhost")&&(e=l(a.url),i.close())}),i.addEventListener("loaderror",function(a){0!=a.url.indexOf("http://localhost")&&(g=!0,i.close())}),i.addEventListener("exit",function(a){g||!e?c.setError():f(e,c)}),c.promise},logout:function(b){var c,d=m(),e=r.createLogoutUrl(b),f=a.open(e,"_blank","location=no,hidden=yes");return f.addEventListener("loadstart",function(a){0==a.url.indexOf("http://localhost")&&f.close()}),f.addEventListener("loaderror",function(a){0!=a.url.indexOf("http://localhost")&&(c=!0,f.close())}),f.addEventListener("exit",function(a){c?d.setError():(r.clearToken(),d.setSuccess())}),d.promise},accountManagement:function(){var b=r.createAccountUrl(),c=a.open(b,"_blank","location=no");c.addEventListener("loadstart",function(a){0==a.url.indexOf("http://localhost")&&c.close()})},redirectUri:function(a){return"http://localhost"}};throw"invalid adapter type: "+b}if(!(this instanceof c))return new c(b);var q,r=this,s=[],t={enable:!0,callbackMap:[],interval:5};r.init=function(c){function d(){var a=function(a){a||(b.prompt="none"),r.login(b).success(function(){j.setSuccess()}).error(function(){j.setError()})},b={};switch(c.onLoad){case"check-sso":t.enable?n().success(function(){o().success(function(){a(!1)}).error(function(){j.setSuccess()})}):a(!1);break;case"login-required":a(!0);break;default:throw"Invalid value for onLoad"}}function e(){var b=l(a.location.href);return b?(n(),a.history.replaceState({},null,b.newUrl),void f(b,j)):void(c?c.token||c.refreshToken?(h(c.token,c.refreshToken,c.idToken),t.enable?n().success(function(){o().success(function(){j.setSuccess()}).error(function(){c.onLoad&&d()})}):j.setSuccess()):c.onLoad&&d():j.setSuccess())}r.authenticated=!1,q=a.Cordova?p("cordova"):p(),c&&("undefined"!=typeof c.checkLoginIframe&&(t.enable=c.checkLoginIframe),c.checkLoginIframeInterval&&(t.interval=c.checkLoginIframeInterval),"login-required"===c.onLoad&&(r.loginRequired=!0));var i=m(),j=m();j.promise.success(function(){r.onReady&&r.onReady(r.authenticated),i.setSuccess(r.authenticated)}).error(function(){i.setError()});var k=g(b);return k.success(e),k.error(function(){i.setError()}),i.promise},r.login=function(a){return q.login(a)},r.createLoginUrl=function(a){var b=j(),c=q.redirectUri(a);a&&a.prompt&&(c+=(-1==c.indexOf("?")?"?":"&")+"prompt="+a.prompt),sessionStorage.oauthState=JSON.stringify({state:b,redirectUri:encodeURIComponent(c)});var e="auth";a&&"register"==a.action&&(e="registrations");var f=d()+"/protocol/openid-connect/"+e+"?client_id="+encodeURIComponent(r.clientId)+"&redirect_uri="+encodeURIComponent(c)+"&state="+encodeURIComponent(b)+"&response_type=code";return a&&a.prompt&&(f+="&prompt="+a.prompt),a&&a.loginHint&&(f+="&login_hint="+a.loginHint),a&&a.idpHint&&(f+="&kc_idp_hint="+a.idpHint),f},r.logout=function(a){return q.logout(a)},r.createLogoutUrl=function(a){var b=d()+"/protocol/openid-connect/logout?redirect_uri="+encodeURIComponent(q.redirectUri(a));return b},r.createAccountUrl=function(a){var b=d()+"/account?referrer="+encodeURIComponent(r.clientId)+"&referrer_uri="+encodeURIComponent(q.redirectUri(a));return b},r.accountManagement=function(){return q.accountManagement()},r.hasRealmRole=function(a){var b=r.realmAccess;return!!b&&b.roles.indexOf(a)>=0},r.hasResourceRole=function(a,b){if(!r.resourceAccess)return!1;var c=r.resourceAccess[b||r.clientId];return!!c&&c.roles.indexOf(a)>=0},r.loadUserProfile=function(){var a=d()+"/account",b=new XMLHttpRequest;b.open("GET",a,!0),b.setRequestHeader("Accept","application/json"),b.setRequestHeader("Authorization","bearer "+r.token);var c=m();return b.onreadystatechange=function(){4==b.readyState&&(200==b.status?(r.profile=JSON.parse(b.responseText),c.setSuccess(r.profile)):c.setError())},b.send(),c.promise},r.loadUserInfo=function(){var a=d()+"/protocol/openid-connect/userinfo",b=new XMLHttpRequest;b.open("GET",a,!0),b.setRequestHeader("Accept","application/json"),b.setRequestHeader("Authorization","bearer "+r.token);var c=m();return b.onreadystatechange=function(){4==b.readyState&&(200==b.status?(r.userInfo=JSON.parse(b.responseText),c.setSuccess(r.userInfo)):c.setError())},b.send(),c.promise},r.isTokenExpired=function(a){if(!r.tokenParsed||!r.refreshToken)throw"Not authenticated";var b=r.tokenParsed.exp-(new Date).getTime()/1e3+r.timeSkew;return a&&(b-=a),0>b},r.updateToken=function(a){var b=m();if(!r.tokenParsed||!r.refreshToken)return b.setError(),b.promise;a=a||5;var c=function(){if(r.isTokenExpired(a)){var c="grant_type=refresh_token&refresh_token="+r.refreshToken,e=d()+"/protocol/openid-connect/token";if(s.push(b),1==s.length){var f=new XMLHttpRequest;f.open("POST",e,!0),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.clientId&&r.clientSecret?f.setRequestHeader("Authorization","Basic "+btoa(r.clientId+":"+r.clientSecret)):c+="&client_id="+encodeURIComponent(r.clientId);var g=(new Date).getTime();f.onreadystatechange=function(){if(4==f.readyState)if(200==f.status){g=(g+(new Date).getTime())/2;var a=JSON.parse(f.responseText);h(a.access_token,a.refresh_token,a.id_token),r.timeSkew=Math.floor(g/1e3)-r.tokenParsed.iat,r.onAuthRefreshSuccess&&r.onAuthRefreshSuccess();for(var b=s.pop();null!=b;b=s.pop())b.setSuccess(!0)}else{r.onAuthRefreshError&&r.onAuthRefreshError();for(var b=s.pop();null!=b;b=s.pop())b.setError(!0)}},f.send(c)}}else b.setSuccess(!1)};if(t.enable){var e=o();e.success(function(){c()}).error(function(){b.setError()})}else c();return b.promise},r.clearToken=function(){r.token&&(h(null,null,null),r.onAuthLogout&&r.onAuthLogout(),r.loginRequired&&r.login())},r.callback_id=0};"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=c:(a.Keycloak=c,"function"==typeof define&&define.amd&&define("keycloak",[],function(){return c}))}(window);var config=config||{},omsconfig=omsconfig||{},getconfig=function(){switch(window.location.hostname){case"localhost":return{backend:"http://localhost:9000"};case"optimusprimeui-env.us-east-1.elasticbeanstalk.com":return{backend:"https://kong-qa.ailiens.com:8443/bumblebee"};case"optimusprimeui-dev.ailiens.com":return{backend:"https://kong-qa.ailiens.com:8443/bumblebee"};case"optimusprimeui-qa.ailiens.com":return{backend:"https://kong-qa.ailiens.com:8443/bumblebee"};default:return{backend:"https://kong.ailiens.com:8443/bumblebee"}}};config=omsconfig=getconfig(),config.pincode={uploadUrl:"/api/upload/dest_pincodes/",fields:[{id:"id",name:"Id",searchable:!1,editable:!1,hideInAdd:!0},{id:"pincode",name:"Pincode",searchable:!0,editable:!1,fieldName:"pincode",validate:{pattern:/^[1-9][0-9]{5}$/,maxlength:6,minlength:6},type:"autoCompleteSearch","function":"getPincodes"},{id:"pincode_country",name:"Country",editable:!1,searchable:!0,type:"dropdown",data:"countries",fieldName:"name",searchField:"id"},{id:"pincode_state",name:"State",editable:!1,searchable:!0,type:"dropdown",fieldName:"code",data:"states",searchField:"id",onChange:"stateChange"},{id:"pincode_city",name:"City",editable:!1,searchable:!0,type:"dropdown",data:"cities",fieldName:"name",searchField:"id"},{id:"pincode_area",name:"Area",editable:!1,searchable:!0,type:"dropdown",data:"area",fieldName:"name",searchField:"id"},{id:"areacity_code",name:"Area City Code",editable:!1,searchable:!0,fieldName:"code",type:"dropdown",data:"areacitycode",searchField:"id",validate:{pattern:/^[a-zA-Z]*$/}},{id:"pincode_region",name:"Region ",editable:!0,searchable:!0,type:"dropdown",fieldName:"name",data:"regions",searchField:"id"},{id:"dest_cluster",name:"Destination Cluster",type:"dropdown",fieldName:"name",editable:!0,searchable:!0,data:"clusters",searchField:"id"}]},config.destcluster={uploadUrl:"/api/upload/dest_clusters/",fields:[{id:"id",name:"Cluster Code",editable:!1,searchable:!1,hideInAdd:!0},{id:"name",name:"Name",editable:!0,searchable:!0,validate:{pattern:/^[a-zA-Z\s]*$/}},{id:"description",name:"Description",editable:!0,searchable:!1}]},config.sourcecluster={uploadUrl:"/api/upload/source_clusters/",fields:[{id:"id",name:"Cluster Code",editable:!1,searchable:!1,hideInAdd:!0},{id:"name",name:"Name",editable:!0,searchable:!0,validate:{pattern:/^[a-zA-Z\s]*$/}},{id:"description",name:"Description",editable:!0,searchable:!1}]},config.fulfill={uploadUrl:"/api/upload/fulfillment_center/",fields:[{id:"id",name:"ID",editable:!1,searchable:!1,hideInAdd:!0},{id:"fcid",name:"Fullfilment ID",editable:!1,searchable:!0,validate:{pattern:/^[a-zA-Z0-9]*$/}},{id:"name",name:"Center Name",editable:!0,searchable:!0,validate:{pattern:/^[a-zA-Z0-9\s\-]*$/}},{id:"contactName",name:"Contact Name",editable:!1,searchable:!0},{id:"phoneNumber",name:"Phone Number",editable:!1,searchable:!0,validate:{pattern:/^[0-9\/\-]*$/}},{id:"geoLatitude",name:"Latitude",editable:!1,searchable:!0,validate:{pattern:/^[0-9]*\.?[0-9]*$/}},{id:"geoLongitude",name:"Longitude",editable:!1,searchable:!0,validate:{pattern:/^[0-9]*\.?[0-9]*$/}},{id:"description",name:"Description",editable:!1,searchable:!0,validate:{pattern:/^[^~,]*$/}},{id:"fc_type",name:"Type",editable:!1,searchable:!0,searchField:"text",type:"options",data:"options",fieldName:"value"},{id:"franchise",name:"Franchise",type:"checkbox",editable:!1,searchable:!0,options:[{value:!0,text:"Yes"},{value:!1,text:"No"}]},{id:"tin",name:"Tin",editable:!1,searchable:!0,validate:{pattern:/^[0-9]*$/}},{id:"locality",name:"Locality",editable:!1,searchable:!0,validate:{pattern:/^[a-zA-Z0-9\s\-]*$/}},{id:"address1",name:"Address1",editable:!1,searchable:!0,validate:{maxlength:2e3}},{id:"address2",name:"Address2",editable:!1,searchable:!0,validate:{maxlength:2e3,optional:!0}},{id:"pincode",name:"Pincode",type:"autocomplete","function":"getPincodes",editable:!1,searchable:!0,validate:{pattern:/^[1-9][0-9]{5}$/,maxlength:6,minlength:6}},{id:"o2s_tat",name:"TAT",editable:!0,searchable:!0,validate:{pattern:/^[0-9]*$/}},{id:"is_enabled",name:"IsEnabled",editable:!1,searchable:!0,type:"checkbox",options:[{value:!0,text:"Yes"},{value:!1,text:"No"}]},{id:"fc_state",name:"State",editable:!1,searchable:!0,searchField:"id",type:"dropdown",data:"states",fieldName:"code",onChange:"stateChange",hideInAdd:!0},{id:"fc_city",name:"City",editable:!1,searchable:!0,type:"autocomplete",searchField:"id",source:"cities",fieldName:"name",hideInAdd:!0},{id:"fc_cluster",name:"Source Clusters",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"clusters",fieldName:"name"}]},config.courier={uploadUrl:"/api/upload/couriers/",fields:[{id:"id",name:"ID",hideInAdd:!0,editable:!0,searchable:!1},{id:"name",name:"Name",editable:!0,searchable:!0,validate:{pattern:/^[a-zA-Z\s]*$/}},{id:"daily_capacity",name:"Daily Capacity",editable:!0,searchable:!0,validate:{pattern:/^[0-9]*$/}},{id:"color_code",name:"Color Code",type:"color",editable:!0,searchable:!1},{id:"is_enabled",name:"Enabled",type:"checkbox",editable:!0,searchable:!0,options:[{value:!0,text:"Yes"},{value:!1,text:"No"}]}]},config.shipmentcosting={uploadUrl:"/api/upload/courier_stpt_cost",fields:[{id:"id",name:"ID",editable:"false",hideInAdd:!0,searchable:!1},{id:"courier",name:"Courier Code",editable:"true",searchable:!0,type:"dropdown",searchField:"id",data:"couriers",fieldName:"name",onChange:"courierChange"},{id:"payment_service_mapper",name:"Payment Service Mapper",editable:!0,searchable:!0,type:"dropdown",data:"paymentservices",searchField:"id",fieldName:"description"},{id:"cost_flat",name:"Basic cost",editable:"true",searchable:!0,validate:{pattern:/^(?=.*\d)\d*(?:\.\d\d)?$/}},{id:"cost_percent",name:"Cost Percent",editable:"true",type:"percentage",searchable:!0,validate:{pattern:/^(100\.00|[0-9]?\d\.\d{2}|[0-9]{2}|[0-9]|[0-9]{2}[\.][0-9]|[0-9][\.][0-9])$/}}]},config.courierp={uploadUrl:"/api/courier_preferences/bulk_add_update",deleteUrl:"/api/courier_preferences/bulk_delete",fields:[{id:"id",name:"ID",editable:!1,hideInAdd:!0,searchable:!1},{id:"source_cluster",name:"Source Cluster",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"source_clusters",fieldName:"name",prioritysearchable:!0},{id:"destination_cluster",name:"Dest. Cluster",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"dest_clusters",fieldName:"name",prioritysearchable:!0},{id:"payment_service_mapper",name:"Payment Service Mapper",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"paymentservices",fieldName:"description",prioritysearchable:!0},{id:"courier",name:"Courier Code",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"couriers",fieldName:"name",onChange:"getMappers"},{id:"priority",name:"Priority",editable:!0,searchable:!0,validate:{pattern:/^[0-9]*$/}},{id:"shipment_limit",name:"Shipment limit",editable:!0,searchable:!0,validate:{pattern:/^[0-9]*$/}},{id:"is_enabled",name:"IsEnabled",editable:!0,searchable:!0,type:"checkbox",options:[{value:!0,text:"Yes"},{value:!1,text:"No"}]}]},config.costing={uploadUrl:"/api/tat_cost_matrix/bulk_add_update",deleteUrl:"/api/tat_cost_matrix/bulk_delete",fields:[{id:"id",name:"ID",editable:!1,hideInAdd:!0,searchable:!1},{id:"courier",name:"Courier",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"couriers",fieldName:"name",onChange:"getMappers"},{id:"payment_service_mapper",name:"Payment Service Mapper",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"paymentservices",fieldName:"description",dataDouble:{add1:"pt_id",add2:"st_id"},dataDouldeField:"name"},{id:"source_city",name:"Source City",editable:"true",searchable:!0,type:"autocomplete",searchField:"id",source:"cities",fieldName:"name"},{id:"destination_city",name:"Destination City",editable:"true",searchable:!0,type:"autocomplete",searchField:"id",source:"cities",fieldName:"name"},{id:"tat",name:"TAT ",editable:"true",searchable:!0,validate:{pattern:/^[0-9]*$/}},{id:"basic_cost",name:"Basic Freight",editable:!0,searchable:!0,validate:{pattern:/^(?=.*\d)\d*(?:\.\d\d)?$/}},{id:"fixed_addon_cost",name:"VAS Cost",editable:"true",searchable:!1,validate:{pattern:/^(?=.*\d)\d*(?:\.\d\d)?$/}},{id:"variable_addon_percent",name:"Tax %",editable:"true",type:"percentage",searchable:!1,validate:{pattern:/^(100\.00|[0-9]?\d\.\d{2}|[0-9]{2}|[0-9]|[0-9]{2}[\.][0-9]|[0-9][\.][0-9])$/}},{id:"totalCost",name:"Total Cost",editable:!1,searchable:!1,hideInAdd:!1,validate:{pattern:/^(?=.*\d)\d*(?:\.\d\d)?$/}}]},config.constraints={uploadUrl:"/api/upload/courier_constraints/",fields:[{id:"id",name:"ID",editable:!0,hideInAdd:!0,searchable:!1},{id:"constraint_type",name:"Constraint Type",editable:!0,searchable:!1,validate:{pattern:/^[a-zA-Z0-9\s]*$/},type:"dropdown",fieldName:"name",data:"constraintType",onChange:"getData"},{id:"code",name:"Constraint Value",type:"autocomplete",source:"levels",editable:!0,searchable:!1},{id:"payment_type",name:"Payment Type",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"paymenttypes",fieldName:"name"},{id:"courier",name:"Courier Code",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"couriers",fieldName:"name"},{id:"amount",name:"Amount",editable:!0,searchable:!0,validate:{pattern:/^(?=.*\d)\d*(?:\.\d\d)?$/}}]},config.serviceability={uploadUrl:"/api/upload/clusters/",fields:[{id:"id",name:"ID",editable:!1,hideInAdd:!0,searchable:!1},{id:"pincode",name:"Pincode",editable:!0,searchable:!1},{id:"service",name:"Service",editable:!0,searchable:!1},{id:"courier_code",name:"Courier Code",editable:!0,searchable:!1}]},config.countryservice={uploadUrl:"/api/courier_country_serviceability/bulk_add_update",deleteUrl:"/api/courier_country_serviceability/bulk_delete",fields:[{id:"id",name:"Id",searchable:!1,editable:!1,hideInAdd:!0},{id:"courier",name:"Courier",editable:!0,searchable:!0,type:"dropdown",searchField:"id",fieldName:"name",data:"couriers"},{id:"country",name:"Country",editable:!0,searchable:!0,type:"dropdown",data:"countries",fieldName:"name",searchField:"id"},{id:"is_enabled",name:"IsEnabled",searchable:!0,editable:!0,type:"checkbox",options:[{value:!0,text:"Yes"},{value:!1,text:"No"}]},{id:"shipment_capacity",name:"Shipment Capacity",editable:!0,searchable:!0,validate:{pattern:/^[0-9]*$/}},{id:"payment_service_mapper",name:"Payment Service Mapper",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"paymentservices",fieldName:"description",dataDouble:{add1:"pt_id",add2:"st_id"},dataDouldeField:"name"}]},config.pincodeservice={uploadUrl:"/api/courier_pincode_serviceability/bulk_add_update",deleteUrl:"/api/courier_pincode_serviceability/bulk_delete",fields:[{id:"id",name:"Id",searchable:!1,editable:!1,hideInAdd:!0},{id:"pincode",name:"Pincode",searchable:!0,editable:!0,data:"pincodes",validate:{pattern:/^[1-9][0-9]{5}$/,maxlength:6,minlength:6},searchField:"id",type:"autocomplete","function":"getPincodes"},{id:"country",name:"Country",searchable:!0,editable:!1,hideInAdd:!0,data:"country",fieldName:"country",showInScanData:!0},{id:"state",name:"State",searchable:!0,editable:!1,hideInAdd:!0,data:"state",fieldName:"state",showInScanData:!0},{id:"city",name:"City",searchable:!0,editable:!1,hideInAdd:!0,data:"city",fieldName:"city",showInScanData:!0},{id:"area",name:"Area",searchable:!0,editable:!1,hideInAdd:!0,data:"area",fieldName:"area",showInScanData:!0},{id:"areaCityCode",name:"Area City Code",searchable:!0,editable:!1,hideInAdd:!0,data:"areaCityCode",fieldName:"areaCityCode",showInScanData:!0},{id:"dcCode",name:"DC Code",searchable:!0,editable:!0,data:"dcCode",fieldName:"dcCode",showInScanData:!0},{id:"dcName",name:"DC Name",searchable:!0,editable:!0,data:"dcName",fieldName:"dcName",showInScanData:!0},{id:"courier",name:"Courier",editable:!0,searchable:!0,type:"dropdown",data:"couriers",searchField:"id",fieldName:"name",onChange:"getMappers"},{id:"payment_service_mapper",name:"Payment Service Mapper",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"paymentservices",fieldName:"description",dataDouble:{add1:"pt_id",add2:"st_id"},dataDouldeField:"name"}]},config.payment={uploadUrl:"/api/upload/payment_service_mappers/",fields:[{id:"id",name:"Id",searchable:!1,editable:!1,hideInAdd:!0},{id:"st_id",name:"Service Type",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"servicetype",fieldName:"name"},{id:"pt_id",name:"Payment Type",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"paymenttype",fieldName:"name"},{id:"description",name:"Description",searchable:!0,editable:!1,hideInAdd:!0,validate:{pattern:/^[a-zA-Z0-9\s]*$/}}]},config.stock={uploadUrl:"/api/upload/stock_airwaybill/",fields:[{id:"id",name:"Id",searchable:!1,editable:!1,hideInAdd:!0},{id:"awb",name:"AWB",searchable:!0,editable:!0,validate:{pattern:/^[0-9]*$/}},{id:"status",name:"Status",editable:!0,searchable:!0,validate:{pattern:/^[a-zA-Z]*$/}},{id:"courier",name:"Courier",type:"dropdown",data:"couriers",fieldName:"name",searchField:"id",editable:!0,searchable:!0},{id:"payment_type",name:"Payment Type",editable:!0,searchable:!0,searchField:"id",type:"dropdown",data:"paymentypes",fieldName:"name"},{id:"replaced_awb",name:"Replaced AWB",searchable:!1},{id:"consignment_id",name:"Consignment Id",searchable:!0},{id:"service_type",name:"Service Type",searchField:"id",fieldName:"name",searchable:!1,type:"autocomplete"}]},config.masterbag={uploadUrl:"/api/upload/master_bags/",fields:[{id:"id",name:"Id",searchable:!1,editable:!1,hideInAdd:!0},{id:"code",name:"Master Bag Code",editable:!0,searchable:!0,hideInAdd:!0,validate:{pattern:/^[a-zA-Z0-9]*$/}},{id:"creationTime",name:"Creation Time",type:"time",editable:!0,searchable:!0,hideInAdd:!0},{id:"handoverTime",name:"Handover Time",editable:!0,type:"time",searchable:!1,hideInAdd:!0},{id:"courier",name:"Courier",type:"dropdown",searchField:"id",data:"couriers",fieldName:"name",editable:!0,searchable:!0},{id:"fulfillmentCenter",name:"Fulfillment Center",type:"dropdown",searchField:"id",data:"fcenters",fieldName:"name",editable:!0,searchable:!0},{id:"status",name:"Status",searchable:!0,searchField:"text",type:"options",data:"masterbagStatus",fieldName:"status",hideInAdd:!0}]},config.shipment={uploadUrl:"/api/upload/shipment_transactions/",fields:[{id:"id",name:"Id",searchable:!1,editable:!1,hideInAdd:!0},{id:"shipmentId",name:"Shipment Id",editable:!1,type:"orderLink",searchable:!0,showInScanData:!0,showInscan:!0,validate:{pattern:/^.*$/}},{id:"master_bag",name:"Master Bag Id",editable:!1,searchable:!0,type:"autocomplete",fieldName:"code",source:"masterbags",searchField:"id"},{id:"orderRef",name:"Order ID",searchable:!0,editable:!1,showInScanData:!0,validate:{pattern:/^.*$/}},{id:"awb",name:"AWB",editable:!0,searchable:!0,validate:{pattern:/^[a-zA-Z0-9]*$/}},{id:"courier",name:"Courier",searchable:!0,showInScanData:!0,searchField:"id",type:"multiselect",data:"couriers",fieldName:"name",showColor:!0},{id:"fulfillment_center",name:"Fulfillment Center",editable:!1,searchable:!0,searchField:"id",type:"multiselect",data:"fulfillservices",fieldName:"name"},{id:"fulfillmentCity",name:"Fulfillment City",searchable:!0,editable:!1},{id:"dest_pincode",name:"Dest Pincode",type:"autocomplete","function":"getPincodes",editable:!1,searchable:!0,fieldName:"pincode"},{id:"customerCity",name:"Destinaton City",searchable:!0,editable:!1},{id:"awbDate",name:"Invoice Time",type:"time",searchable:!1,isOpened:!1},{id:"awbDateStart",usesearchField:"awbDate",name:"Invoice Start Date",type:"time",searchable:!0,hideInTable:!0,isOpened:!1,isStartDate:!0},{id:"awbDateEnd",usesearchField:"awbDate",name:"Invoice End Date",type:"time",searchable:!0,hideInTable:!0,isOpened:!1,isStartDate:!1},{id:"shippingDate",name:"Shipping Date",type:"time",editable:!1,searchable:!1},{id:"shippingDateStart",name:"Shipping Start Date",type:"time",usesearchField:"shippingDate",searchable:!0,hideInTable:!0,isOpened:!1,isStartDate:!0},{id:"shippingDateENd",usesearchField:"shippingDate",name:"Shipping End Date",type:"time",searchable:!0,hideInTable:!0,isOpened:!1,isStartDate:!1},{id:"promiseDate",name:"Promise Date",type:"timenosecond",editable:!1,searchable:!1},{id:"deliveredDate",name:"Delivered Date",type:"time",editable:!1,searchable:!1,hideInAdd:!0,hideInTable:!1,isOpened:!1,isStartDate:!1},{id:"deliveredDateStart",name:"Delivery Start Date",usesearchField:"deliveredDate",type:"time",searchable:!0,hideInTable:!0,isOpened:!1,isStartDate:!0},{id:"deliveredDateEnd",usesearchField:"deliveredDate",name:"Delivery End Date",type:"time",searchable:!0,hideInTable:!0,isOpened:!1,isStartDate:!1},{id:"status",name:"LMS Status",data:"shipmentStatus",searchable:!0,editable:!1,type:"multiselect",fieldName:"status",status:!0,showInScanData:!0,validate:{pattern:/^[a-zA-Z]*$/},searchField:"status"},{id:"courierStatus",name:"Courier Status",searchable:!0,editable:!1,showInScanData:!0},{id:"attemptCount",name:"Attempt Count",searchable:!0,editable:!1},{id:"packagingType",
name:"Packaging Type",searchable:!1,editable:!1},{id:"amount",name:"Amount",searchable:!1,editable:!1,validate:{pattern:/^[0-9]*$/}},{id:"customerName",name:"Customer Name",searchable:!1,editable:!0,validate:{pattern:/^[a-zA-Z0-9]*$/}},{id:"payment_service_mapper",name:"Delivery Type",editable:!1,searchable:!0,type:"multiselect",displayType:1,searchField:"id",data:"paymentservices",fieldName:"description"},{id:"payment_service_mapper",name:"Payment Type",editable:!1,searchable:!1,type:"dropdown",displayType:2,searchField:"id",data:"paymentservices",fieldName:"description"}]},config.fcservice={uploadUrl:"/api/fc_serviceability/bulk_add_update",deleteUrl:"/api/fc_serviceability/bulk_delete",fields:[{id:"fc_id",name:"Fulfillment Center ID",editable:!0,searchable:!0,searchField:"id",type:"dropdown",data:"fulfillservices",fieldName:"name"},{id:"st_pt_id",name:"Payment Service ID ",editable:!0,searchable:!0,type:"dropdown",data:"paymentservices",searchField:"id",fieldName:"description"},{id:"is_enabled",name:"IsEnabled",editable:!0,searchable:!0,type:"checkbox",options:[{value:!0,text:"Yes"},{value:!1,text:"No"}]},{id:"shipment_cutoff_time",name:"Shipment Cuttoff Time",searchable:!0,editable:!0,type:"hourminutetime"},{id:"id",name:"Id",searchable:!1,editable:!1,hideInAdd:!0}]},config.advancesearch={fields:[{id:"paymentservice",name:"Payment Service ID ",type:"dropdown",data:"paymentservices",fieldName:"description"},{id:"fullfillmentid",name:"Fullfilment Center",type:"dropdown",data:"fullfillmentcentres",fieldName:"name"},{id:"pincode",name:"Pincode",validate:{pattern:/^[1-9][0-9]{5}$/,maxlength:6}},{id:"shipmentValue",name:"Shipment Value",validate:{pattern:/^[0-9]*$/}}]},config.tracking={fields:[{id:"shipmentId",name:"Shipment Id"},{id:"courier",name:"Courier"},{id:"id",name:"id"},{id:"awbno",name:"AWB"},{id:"threepl_reason_code",name:"Courier Reason Code"},{id:"threepl_status",name:"Courier Status"},{id:"ail_status",name:"Shipment Status"},{id:"ail_status_time",name:"Shipment Status Time",type:"time"},{id:"delivery_attempt",name:"Delivery Attempt"},{id:"threepl_status_time",name:"Courier Status Time",type:"time"}]},config.rcountryservice={uploadUrl:"/api/upload/return_courier_country_serviceability/",fields:[{id:"id",name:"Id",searchable:!1,editable:!1,hideInAdd:!0},{id:"courier",name:"Courier",editable:!0,searchable:!0,type:"dropdown",searchField:"id",fieldName:"name",data:"couriers"},{id:"country",name:"Country",editable:!0,searchable:!0,type:"dropdown",data:"countries",fieldName:"name",searchField:"id"},{id:"is_enabled",name:"IsEnabled",searchable:!0,editable:!0,type:"checkbox",options:[{value:!0,text:"Yes"},{value:!1,text:"No"}]},{id:"shipment_capacity",name:"Shipment Capacity",editable:!0,searchable:!0,validate:{pattern:/^[0-9]*$/}}]},config.rcosting={uploadUrl:"/api/upload/return_tat_cost_matrix",fields:[{id:"id",name:"ID",editable:!1,hideInAdd:!0,searchable:!1},{id:"courier",name:"Courier",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"couriers",fieldName:"name",onChange:"getMappers"},{id:"sourceCity",name:"Source City",editable:"true",searchable:!0,type:"autocomplete",searchField:"id",source:"cities",fieldName:"name"},{id:"destinationCity",name:"Destination City",editable:"true",searchable:!0,type:"autocomplete",searchField:"id",source:"cities",fieldName:"name"},{id:"tat",name:"TAT ",editable:"true",searchable:!0,validate:{pattern:/^[0-9]*$/}},{id:"basicCost",name:"Basic Freight",editable:!0,searchable:!0,validate:{pattern:/^(?=.*\d)\d*(?:\.\d\d)?$/}},{id:"fixedAddonCost",name:"VAS Cost",editable:"true",searchable:!1,validate:{pattern:/^(?=.*\d)\d*(?:\.\d\d)?$/}},{id:"variableAddonPercent",name:"Tax %",editable:"true",type:"percentage",searchable:!1,validate:{pattern:/^(100\.00|[0-9]?\d\.\d{2}|[0-9]{2}|[0-9]|[0-9]{2}[\.][0-9]|[0-9][\.][0-9])$/}},{id:"totalCost",name:"Total Cost",editable:!1,searchable:!1,hideInAdd:!1,validate:{pattern:/^(?=.*\d)\d*(?:\.\d\d)?$/}}]},config.rcourierp={uploadUrl:"/api/upload/return_courier_preferences/",fields:[{id:"id",name:"ID",editable:!1,hideInAdd:!0,searchable:!1},{id:"sourceCluster",name:"Source Cluster",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"source_clusters",fieldName:"name",prioritysearchable:!0},{id:"destinationCluster",name:"Dest. Cluster",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"dest_clusters",fieldName:"name",prioritysearchable:!0},{id:"courier",name:"Courier Code",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"couriers",fieldName:"name",onChange:"getMappers"},{id:"priority",name:"Priority",editable:!0,searchable:!0,validate:{pattern:/^[0-9]*$/}},{id:"shipmentLimit",name:"Shipment limit",editable:!0,searchable:!0,validate:{pattern:/^[0-9]*$/}},{id:"isEnabled",name:"IsEnabled",editable:!0,searchable:!0,type:"checkbox",options:[{value:!0,text:"Yes"},{value:!1,text:"No"}]}]},config.rpincodeservice={uploadUrl:"/api/upload/return_courier_pincode_serviceability/",fields:[{id:"id",name:"Id",searchable:!1,editable:!1,hideInAdd:!0},{id:"pincode",name:"Pincode",searchable:!0,editable:!0,data:"pincodes",validate:{pattern:/^[1-9][0-9]{5}$/,maxlength:6,minlength:6},searchField:"id",type:"autocomplete","function":"getPincodes"},{id:"capacity",name:"Capacity",editable:!0,searchable:!0,validate:{pattern:/^[0-9]*$/}},{id:"country",name:"Country",searchable:!0,editable:!1,hideInAdd:!0,data:"country",fieldName:"country",showInScanData:!0},{id:"state",name:"State",searchable:!0,editable:!1,hideInAdd:!0,data:"state",fieldName:"state",showInScanData:!0},{id:"city",name:"City",searchable:!0,editable:!1,hideInAdd:!0,data:"city",fieldName:"city",showInScanData:!0},{id:"area",name:"Area",searchable:!0,editable:!1,hideInAdd:!0,data:"area",fieldName:"area",showInScanData:!0},{id:"areaCityCode",name:"Area City Code",searchable:!0,editable:!1,hideInAdd:!0,data:"areaCityCode",fieldName:"areaCityCode",showInScanData:!0},{id:"dcCode",name:"DC Code",searchable:!0,editable:!0,data:"dcCode",fieldName:"dcCode",showInScanData:!0},{id:"dcName",name:"DC Name",searchable:!0,editable:!0,data:"dcName",fieldName:"dcName",showInScanData:!0},{id:"courier",name:"Courier",editable:!0,searchable:!0,type:"dropdown",data:"couriers",searchField:"id",fieldName:"name",onChange:"getMappers"}]},config.rserviceability={uploadUrl:"/api/upload/clusters/",fields:[{id:"id",name:"ID",editable:!1,hideInAdd:!0,searchable:!1},{id:"pincode",name:"Pincode",editable:!0,searchable:!1},{id:"service",name:"Service",editable:!0,searchable:!1},{id:"courier_code",name:"Courier Code",editable:!0,searchable:!1}]},config.rshipment={uploadUrl:"/api/upload/storetowarehouse/consignment",fields:[{id:"id",name:"Id",searchable:!1,editable:!1,hideInAdd:!0},{id:"orderRef",name:"Order ID",searchable:!0,editable:!1,showInScanData:!0,type:"reverseorderLink"},{id:"returnId",name:"Return ID",searchable:!0},{id:"consignmentId",name:"Shipment Id",editable:!1,searchable:!0,showInScanData:!0,showInscan:!1,validate:{pattern:/^.*$/}},{id:"",name:"EAN Codes",type:"ean"},{id:"awb",name:"AWB",editable:!0,searchable:!0,showInScanData:!0,showInscan:!0,validate:{pattern:/^.*$/}},{id:"invoiceId",name:"Invoice Id",editable:!0,searchable:!0,showInScanData:!0,showInscan:!0,validate:{pattern:/^.*$/}},{id:"customerName",name:"Customer Name ",editable:!1,searchable:!0,showInScanData:!1,showInscan:!1,validate:{pattern:/^.*$/}},{id:"quantityDeclared",name:"Qty Declared",searchable:!1,type:"number"},{id:"quantityReceived",name:"Qty Received",searchable:!1,type:"number"},{id:"customerCity",name:"Source City",editable:!1,searchable:!0},{id:"destinationFcId",name:"Store Id",searchable:!0},{id:"lmsStatus",name:"LMS Status",searchable:!0,editable:!1,type:"multiselect",data:"shipmentStatus",fieldName:"status",status:!0,showInScanData:!0,validate:{pattern:/^[a-zA-Z]*$/},searchField:"status"},{id:"qcStatus",name:"QC Status",searchable:!0},{id:"courierName",name:"Courier Name",searchable:!0,showInScanData:!0,searchField:"id",type:"multiselect",data:"courierName",fieldName:"name",showColor:!0},{id:"returnType",name:"Return Type",searchable:!0,showInScanData:!0,searchField:"id",type:"multiselect",data:"returnType",fieldName:"name",showColor:!0},{id:"courierStatus",name:"Courier Status",searchable:!1},{id:"attemptCount",name:"Attempt Count",searchable:!1,editable:!1,type:"number"},{id:"customerPincode",name:"Customer Pincode",searchable:!0},{id:"createdDateTime",name:"Request Date",searchable:!1,editable:!1,type:"time"},{id:"requestDateStart",name:"Request Start Date",type:"time",usesearchField:"createdDateTime",searchable:!0,hideInTable:!0,isOpened:!1,isStartDate:!0},{id:"requestDateEnd",name:"Request End Date",type:"time",usesearchField:"createdDateTime",searchable:!0,hideInTable:!0,isOpened:!1,isStartDate:!1},{id:"pickUpDateTime",name:"PickUp Date",searchable:!1,editable:!0,type:"hourminutetime"},{id:"promiseDate",name:"Promise Date",searchable:!1,editable:!0,type:"hourminutetime"},{id:"deliveredDateTime",name:"Delivered Date",searchable:!1,editable:!1,type:"time"},{id:"deliveredDateStart",name:"Delivered Start Date",type:"time",usesearchField:"deliveredDateTime",searchable:!0,hideInTable:!0,isOpened:!1,isStartDate:!0},{id:"deliveredDateEnd",name:"Delivered End Date",type:"time",usesearchField:"deliveredDateTime",searchable:!0,hideInTable:!0,isOpened:!1,isStartDate:!1},{id:"packagingType",name:"Packaging Type",searchable:!1},{id:"packageStatus",name:"Package Status",searchable:!1},{id:"history",name:"History",searchable:!1,type:"history"}]},config.rshipmentdetail={uploadUrl:"/api/upload/shipment_transactions/",fields:[{id:"returnId",name:"Return IDs",type:"normal"},{id:"awb",name:"AWB",type:"normal"},{id:"quantityDeclared",name:"Quantity Declared",type:"normal"},{id:"quantityReceived",name:"Quantity Recieved",type:"number"},{id:"packageStatus",name:"Status",type:"simpleDropdown",data:"dataArray",fieldName:"name"}]},config.handover={fields:[{id:"checkbox",name:"Select",type:"checkbox"},{id:"shipmentId",name:"Shipment Id"},{id:"master_bag",name:"Master Bag Id"},{type:"otp",courier:"ROADRUNNR",name:"OTP"},{id:"orderRef",name:"Order ID",searchable:!0,editable:!1,showInScanData:!0,validate:{pattern:/^.*$/}},{id:"awb",name:"AWB",editable:!0,searchable:!0,validate:{pattern:/^[a-zA-Z0-9]*$/}},{id:"fulfillmentCity",name:"Fulfillment City",searchable:!0,editable:!1},{id:"dest_pincode",name:"Dest Pincode",type:"autocomplete","function":"getPincodes",editable:!1,searchable:!0,fieldName:"pincode"},{id:"customerCity",name:"Destinaton City",searchable:!0,editable:!1},{id:"deliveredDate",name:"Delivered Date",type:"time",editable:!1,searchable:!0,hideInAdd:!0,hideInTable:!0,isOpened:!1,isStartDate:!0},{id:"packagingType",name:"Packaging Type",searchable:!1,editable:!1},{id:"amount",name:"Amount",searchable:!1,editable:!1,validate:{pattern:/^[0-9]*$/}},{id:"customerName",name:"Customer Name",searchable:!1,editable:!0,validate:{pattern:/^[a-zA-Z0-9]*$/}}]},config.rshipmentdetail2={fields:[{id:"returnId",name:"Return ID"},{id:"price",name:"Price"},{id:"comments",name:"comments"}]},config.rshipmentcosting={uploadUrl:"/api/upload/courier_stpt_cost",fields:[{id:"id",name:"ID",editable:"false",hideInAdd:!0,searchable:!1},{id:"courier",name:"Courier Code",editable:"true",searchable:!0,type:"dropdown",searchField:"id",data:"couriers",fieldName:"name",onChange:"courierChange"},{id:"costFlat",name:"Basic cost",editable:"true",searchable:!0,validate:{pattern:/^(?=.*\d)\d*(?:\.\d\d)?$/}},{id:"costPercent",name:"Cost Percent",editable:"true",type:"percentage",searchable:!0,validate:{pattern:/^(100\.00|[0-9]?\d\.\d{2}|[0-9]{2}|[0-9]|[0-9]{2}[\.][0-9]|[0-9][\.][0-9])$/}}]},config.shipmentTrackingHistory={fields:[{id:"consignmentId",name:"Shipment Id"},{id:"id",name:"id"},{id:"awb",name:"AWB"},{id:"threePlComment",name:"Courier Reason"},{id:"threePlStatus",name:"Courier Status"},{id:"ailStatus",name:"Shipment Status"},{id:"ailStatusDateTime",name:"Shipment Status Time",type:"time"},{id:"deliveryAttempt",name:"Delivery Attempt"},{id:"threePlStatusDateTime",name:"Courier Status Time",type:"time"}]},config.service_cutoff={uploadUrl:"/api/add/service_type_cutoffs",deleteUrl:"/api/delete/service_type_cutoffs/",fields:[{id:"id",name:"ID",editable:!1,hideInAdd:!0,searchable:!1},{id:"service_type",name:"Service Type",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"servicetype",fieldName:"name"},{id:"source_city",name:"Source City",editable:"true",searchable:!0,type:"autocomplete",searchField:"id",source:"cities",fieldName:"name"},{id:"destination_city",name:"Destination City",editable:"true",searchable:!0,type:"autocomplete",searchField:"id",source:"cities",fieldName:"name"},{id:"courier",name:"Courier",editable:!0,searchable:!0,type:"dropdown",searchField:"id",data:"couriers",fieldName:"name",onChange:"getMappers"},{id:"cutoff",name:"Cuttoff Time",searchable:!0,editable:!0,type:"hourminutetime"}]};var keycloak=new Keycloak("scripts/keycloak.config.json");angular.element(document).ready(function(){keycloak.init({onLoad:"login-required"}).success(function(){angular.bootstrap(document,["omsieApp"])})}),angular.module("omsieApp").directive("omsHeaderBar",["$timeout",function(a){return{templateUrl:"views/omsheader.html",restrict:"E",replace:!0,scope:{},controller:["$scope",function(b){function c(){keycloak.logout({redirectUri:window.location.origin})}b.logout=c,keycloak.loadUserInfo().success(function(c){a(function(){b.userInfo=c})})}]}}]),angular.module("omsieApp").directive("omsDashboardMain",[function(){return{scope:{data:"=",displayProps:"=",navigateTo:"@"},template:'<div>   <div class="oms-box-table" ng-show="data">       <div class="oms-box-row">           <div class="oms-box-col-th">Status</div>           <div style="width:10px" class="oms-box-col-th">Number of Order</div>       </div>       <a class="oms-link oms-box-row"           ng-if="navigateTo"           ng-repeat="prop in displayProps"           ng-href="{{navigateTo}}">           <div class="oms-box-col" ng-bind="prop">           </div>           <div class="oms-box-col" ng-bind="data[prop]">           </div>       </a>       <div class="oms-box-row"           ng-if="!navigateTo"           ng-repeat="prop in displayProps">           <div class="oms-box-col" ng-bind="prop">           </div>           <div class="oms-box-col" ng-bind="data[prop]">           </div>       </div>   </div>   <center ng-show="!data">       <oms-loader data-width="30" data-height="30"></oms-loader>   </center></div>',restrict:"E",replace:!0,controller:["$scope",function(a){}]}}]),angular.module("omsieApp").factory("MainData",function(){var a={storeDeliveryPickups:["ALL","ASSIGNED","QCPASS","DELIVERYMODIFIED","INVOICED","PACKED","REPRINTINVOICE","SHIPPED"],warehouseDeliverPickups:["ALL","ASSIGNED","SAPPICKPASS","PICKPASS","QCPASS","DELIVERYMODIFIED","INVOICED","PACKED","REPRINTINVOICE","SHIPPED"],pickupOrders:["ALL","ASSIGNED","POSPAYMENTPENDING","QCPASS","INVOICED","READYFORCUSTOMERPICK","CUSTOMERPICKCOMPLETE"]};return a}),angular.module("omsieApp").factory("PickuporderService",["CONSTANTS","$http","$q",function(a,b,c){var d={getPickuporderData:function(){var d=c.defer();return b({method:"GET",url:a.API_URL+"/api/order/query?consignmentStatus=INVOICED&deliveryType=STOREPICK&sort=orderLines.slaEndTime,desc&page=0&size=10"}).success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise}};return d}]),angular.module("omsieApp").directive("omsLoader",function(){return{scope:{},template:function(a,b){return'<svg class="oms-loader" width="'+b.width+'" height="'+b.height+'">    <image xlink:href="/images/rolling.10bc9eed.svg" src="/images/rolling.61625c73.gif" width="'+b.width+'" height="'+b.height+'" /></svg>'},restrict:"E",replace:!0}}),angular.module("omsieApp").directive("omsSearchBlock",["PickupOrderData",function(a){return{scope:{onFilterChange:"&"},templateUrl:"views/omssearchblock.html",restrict:"E",replace:!0,controller:["$scope",function(b){function c(){b.isFormVisible=!b.isFormVisible}b.isFormVisible=!1,b.PickupOrderData=a,b.toggleFormVisibility=c}]}}]),angular.module("omsieApp").directive("omsDatePicker",function(){return{scope:{date:"=",minDate:"="},template:'<div class="oms-datepicker">   <input type="text"           class="oms-input-text"           datepicker-popup="{{format}}"           ng-model="date"           is-open="opened"           min-date="minDate"           show-weeks="false"           show-button-bar="false"           datepicker-options="dateOptions"           date-disabled="disabled(date, mode)"           ng-required="true"           close-text="Close"           ng-click="open($event)" /></div>',restrict:"E",replace:!0,controller:["$scope",function(a){function b(a,b){return"day"===b&&(0===a.getDay()||6===a.getDay())}function c(b){b.preventDefault(),b.stopPropagation(),a.opened=!0}a.minDate=a.minDate||new Date,a.dateOptions={formatYear:"yy",startingDay:1},a.format="dd-MMMM-yyyy",a.opened=!1,a.disabled=b,a.open=c}]}}),angular.module("omsieApp").factory("PickupOrderData",function(){var a={orderStartDate:new Date,orderStartMinDate:new Date,orderEndDate:null,filter:{}};return a}),angular.module("omsieApp").controller("OrderdetailCtrl",["OrderDetailService","$routeParams","$scope",function(a,b,c){a.getOrderDetails(b.consignmentId).then(function(a){c.orderDetailsData=a})}]),angular.module("omsieApp").factory("OrderDetailService",["CONSTANTS","$http","$q",function(a,b,c){var d={getOrderDetails:function(d){var e=c.defer();return b({method:"GET",url:a.API_URL+"/api/consignment/"+d}).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise}};return d}]),angular.module("omsieApp").directive("omsPrintInvoice",["$timeout",function(a){return{templateUrl:"views/omsprintinvoice.html",restrict:"E",controller:["$scope",function(a){function b(){var a=document.createElement("iframe");a.src="/views/print.html",a.hidden=!0,document.getElementsByTagName("body")[0].appendChild(a),a.onload=function(){a.contentWindow.print()}}a.printInvoice=b}]}}]),angular.module("omsieApp").directive("omsPrintFile",function(){return{templateUrl:"views/print.html",restrict:"E"}}),angular.module("omsieApp").run(["$templateCache",function(a){a.put("views/main.html",'<div class="has-navbar _db"> <h1>Dashboard</h1> <div class="row"> <div class="col-xs-6"> <div class="oms-box"> <div class="oms-box-th allorders-th"> <span ng-show="data">{{getAllOrdersNum()}}</span> <oms-loader data-width="15" data-height="15" ng-show="!data"></oms-loader> <small>All Orders</small> </div> </div> </div> <div class="col-xs-6" style="clear:right"> <div class="oms-box"> <div class="oms-box-th retorders-th"> <span ng-show="returnData" ng-bind="returnData.totalElements"></span> <oms-loader data-width="15" data-height="15" ng-show="!returnData"></oms-loader> <small>Return Orders</small> </div> </div> </div> <div class="col-md-6 col-lg-4"> <div class="oms-box"> <div class="oms-box-th delivery-th"> Store Delivery Orders </div> <oms-dashboard-main data="data.store.DELIVERY" display-props="MainData.storeDeliveryPickups" navigate-to="/deliveryorder"></oms-dashboard-main> </div> </div> <div class="col-md-6 col-lg-4"> <div class="oms-box"> <div class="oms-box-th wrhouse-delivery-th"> Warehouse Delivery Orders </div> <oms-dashboard-main data="data.warehouse.DELIVERY" display-props="MainData.warehouseDeliverPickups"></oms-dashboard-main> </div> </div> <div class="col-md-6 col-lg-4"> <div class="oms-box"> <div class="oms-box-th pickup-th"> Pickup Orders </div> <oms-dashboard-main data="data.store.STOREPICK" display-props="MainData.pickupOrders"></oms-dashboard-main> </div> </div> </div> </div>'),a.put("views/omsheader.html",'<header> <div class="header"> <ul class="navigation-links oms-list-inline"> <li> <a href="/" class="oms-link oms-link-white oms-bg"> Process </a> </li> <li> <a href="/" class="oms-link oms-link-white oms-bg"> Logistics </a> </li> <li> <a href="/" class="oms-link oms-link-white oms-bg"> USI </a> </li> </ul> <ul class="header-user-info oms-list-inline"> <li> <span href="/" class="oms-bg"> Hello <span ng-bind="userInfo.preferred_username"></span> </span> </li> <li> <span class="oms-link oms-link-white oms-bg" ng-click="logout()"> Logout </span> </li> </ul> </div> <div class="sidebar"> <navbar class="sidebar-links"> <ul class="oms-list-vertical"> <li> <a href="/" class="oms-link oms-link-white oms-bg"> Dashboard </a> </li> <li> <a href="/pickuporder" class="oms-link oms-link-white oms-bg"> Pickup Orders </a> </li> <li> <a href="/" class="oms-link oms-link-white oms-bg"> Delivery Orders </a> </li> <li> <a href="/" class="oms-link oms-link-white oms-bg"> Missed Orders </a> </li> <li> <a href="/" class="oms-link oms-link-white oms-bg"> Delayed Orders </a> </li> <li> <a href="/" class="oms-link oms-link-white oms-bg"> Handover </a> </li> <li> <a href="/" class="oms-link oms-link-white oms-bg"> Placed By Me </a> </li> </ul> </navbar> </div> </header>'),a.put("views/omsprintinvoice.html",'<div> <center> <button class="oms-button" ng-click="printInvoice()">Print Invoice</button> </center> </div>'),a.put("views/omssearchblock.html",'<div> <button class="oms-button" ng-click="toggleFormVisibility()">Search</button> <form ng-show="isFormVisible"> <div class="row"> <div class="col-sm-6 col-md-4 col-lg-3"> <div>Consigment Id</div> <input class="oms-input-text"> </div> <div class="col-sm-6 col-md-4 col-lg-3"> <div>Order Id</div> <input class="oms-input-text"> </div> <div class="col-sm-6 col-md-4 col-lg-3"> <div>Order Date Start</div> <oms-date-picker date="PickupOrderData.orderStartDate" min-date="PickupOrderData.orderStartMinDate"></oms-date-picker> </div> <div class="col-sm-6 col-md-4 col-lg-3"> <div>Order Date End</div> <oms-date-picker date="PickupOrderData.orderEndDate" min-date="PickupOrderData.orderStartDate"></oms-date-picker> </div> <div class="col-sm-6 col-md-4 col-lg-3"> <div>Customer Name</div> <input class="oms-input-text"> </div> <div class="col-sm-6 col-md-4 col-lg-3"> <div>Order Store Name</div> <input class="oms-input-text"> </div> <div class="col-sm-6 col-md-4 col-lg-3"> <div>Order Store ID</div> <input class="oms-input-text"> </div> <div class="col-sm-6 col-md-4 col-lg-3"> <div>Fullfilment Store ID</div> <input class="oms-input-text"> </div> <div class="col-sm-6 col-md-4 col-lg-3"> <div>Fullfilment Store Name</div> <input class="oms-input-text"> </div> <div class="col-sm-6 col-md-4 col-lg-3"> <div>Order Status</div> <select> <option>1</option> </select> </div> <div class="col-sm-6 col-md-4 col-lg-3"> <div>Consignment Status</div> <select> <option>1</option> </select> </div> </div> </form> </div>'),a.put("views/orderdetail.html",'<div class="has-navbar _pcko"> <center ng-show="!orderDetailsData" style="margin-top:80px"> <oms-loader data-width="30" data-height="30"></oms-loader> </center> <div ng-show="orderDetailsData"> <div class="oms-box"> <div class="oms-box-table"> <div class="oms-box-row"> <div class="oms-box-col-th"> Image </div> <div class="oms-box-col-th"> EAN Code </div> <div class="oms-box-col-th"> SAP Style ID </div> <div class="oms-box-col-th"> Hu Code </div> <div class="oms-box-col-th"> SAP Order Number </div> <div class="oms-box-col-th" style="max-width:70px"> Product </div> <div class="oms-box-col-th"> Brand </div> <div class="oms-box-col-th"> Size </div> <div class="oms-box-col-th"> Color </div> <div class="oms-box-col-th"> MRP </div> <div class="oms-box-col-th"> Qty Ordered </div> <div class="oms-box-col-th"> Qty Picked </div> <div class="oms-box-col-th"> QC Passed Quantity </div> </div> <div class="oms-box-row"> <div class="oms-box-col"> <img ng-src="{{orderDetailsData.items[0].image}}" width="100" height="100"> </div> <div class="oms-box-col" ng-bind="orderDetailsData.items[0].skuID"></div> <div class="oms-box-col" ng-bind="orderDetailsData.items[0].sapStyleId"></div> <div class="oms-box-col" ng-bind="orderDetailsData.items[0].hucodeAll || 0"></div> <div class="oms-box-col" ng-bind="orderDetailsData.items[0].itemIDs[0].sapOrderNo"></div> <div class="oms-box-col" ng-bind="orderDetailsData.items[0].category"></div> <div class="oms-box-col" ng-bind="orderDetailsData.items[0].brand"></div> <div class="oms-box-col" ng-bind="orderDetailsData.items[0].size"></div> <div class="oms-box-col" ng-bind="orderDetailsData.items[0].color"></div> <div class="oms-box-col" ng-bind="\'Rs. \'+orderDetailsData.items[0].mrp"></div> <div class="oms-box-col" ng-bind="orderDetailsData.items[0].quantityOrder"></div> <div class="oms-box-col" ng-bind="orderDetailsData.items[0].quantityPicked"></div> <div class="oms-box-col" ng-bind="orderDetailsData.items[0].quantityQCFail"></div> </div> </div> </div> <oms-print-invoice></oms-print-invoice> <div class=""> </div> </div> </div>'),a.put("views/pickuporder.html",'<div class="has-navbar _pcko"> <h1>PickUp Order</h1> <center ng-show="!pickUpdata" style="margin-top:80px"> <oms-loader data-width="30" data-height="30"></oms-loader> </center> <div ng-show="pickUpdata"> <oms-search-block class="search-block"></oms-search-block> <div class="oms-box"> <div class="oms-box-table"> <div class="oms-box-row"> <div class="oms-box-col-th"> Consignment Id </div> <div class="oms-box-col-th"> Order Id </div> <div class="oms-box-col-th"> Order Date </div> <div class="oms-box-col-th"> Item Count </div> <div class="oms-box-col-th"> Payment Type </div> <div class="oms-box-col-th" style="max-width:70px"> Consignment Value </div> <div class="oms-box-col-th"> Customer Name </div> <div class="oms-box-col-th"> Ordering Store </div> <div class="oms-box-col-th"> Fulfilment Center </div> <div class="oms-box-col-th"> Order Status </div> <div class="oms-box-col-th"> Consignment Status </div> <div class="oms-box-col-th"> Consignment Stamp </div> <div class="oms-box-col-th"> Count Down </div> </div> <div class="oms-box-row" ng-repeat="data in pickUpdata.consignment"> <div class="oms-box-col"> <a class="oms-link" ng-href="orderdetail/{{data.consignmentId}}" ng-bind="data.consignmentId"></a> </div> <div class="oms-box-col" ng-bind="data.orderId"></div> <div class="oms-box-col" ng-bind="data.orderDate"></div> <div class="oms-box-col" ng-bind="data.consignmentItemCount"></div> <div class="oms-box-col" ng-bind="data.paymentType"></div> <div class="oms-box-col" ng-bind="\'Rs. \'+data.consignmentValue"></div> <div class="oms-box-col" ng-bind="data.customerName"></div> <div class="oms-box-col" ng-bind="data.orderingStore"></div> <div class="oms-box-col" ng-bind="data.fullfilmentCenter"></div> <div class="oms-box-col" ng-bind="data.orderStatus"></div> <div class="oms-box-col" ng-bind="data.consignmentStatus"></div> <div class="oms-box-col" ng-bind="data.consignmentStamp"></div> <div class="oms-box-col" ng-bind="data.countDown"></div> </div> </div> </div> <div class=""> </div> </div> </div>'),a.put("views/print.html",'<meta charset="UTF-8"> <link rel="stylesheet" href="/app/components/main/bootstrap.css"> <style>body,\n  h1,\n  h2,\n  h3,\n  h5,\n  h5,\n  h6 {\n    font-family: \'Bree Serif\', serif;\n  }\n\n  div {\n    font-size: 11px;\n  }\n\n  td {\n    font-size: 10px;\n  }</style> <head> <style type="text/css" media="print">@page \n    {\n        size: auto;   /* auto is the initial value */\n        margin: 0mm;  /* this affects the margin in the printer settings */\n    }\n\n    body \n    {\n        background-color:#FFFFFF; \n        margin: 10px;  /* this affects the margin on the content before sending to printer */\n   }</style> </head> <div> <img src="/app/images/header.png" style="margin-bottom: 5px"> </div> <div class="container" style="border-style: ridge"> <div class="row" style="border-bottom-style: ridge"> <div class="col-lg-3"> </div> <div class="col-lg-6 text-center"> <h4 style="margin-top: 8px"><strong>INVOICE</strong></h4> </div> <div class="col-lg-3"> </div> </div> <div class="row" style="border-bottom-style: ridge"> <div class="col-xs-6" style="border-right-style: ridge"> <div class="panel panel-default" style="border:none;background-color:white;margin-top:5px;margin-bottom: 5px"> <div class="panel-body" style="padding: 5px"> <div><strong>Sold By : </strong>{{ffcenterDetails.soldBy}}</div> <div><strong>Address :</strong>{{ffcenterDetails.streetNo}},{{ffcenterDetails.streetName}}</div> <div>{{ffcenterDetails.city}},{{ffcenterDetails.pincode}}</div> <div><strong>VAT/TIN :</strong>{{ffcenterDetails.tinNo}}</div> <div><strong>PAN Number :</strong>{{ffcenterDetails.panNo}}</div> <div><strong>CIN Number:</strong>{{ffcenterDetails.cinNo}}</div> </div> </div> </div> <div class="col-xs-6"> <div class="panel panel-default" style="border:none;background-color:white;margin-top:3px;margin-bottom: 3px"> <div class="panel-body"> <div class="row"> <div class="col-xs-6"> <div><strong style="font-size:14px">Order ID : <span class="text-right">{{consignmentDetails.orderID}}</span></strong></div> <div><strong>Order Date :</strong> <span class="text-right"> {{consignmentDetails.orderDate |date:\'dd-MM-yyyy\'}}</span></div> <div><strong>Invoice No : </strong><span class="text-right">{{invoiceId}}</span></div> <div><strong>Invoice Date : </strong><span class="text-right"> {{invoiceDate |date:\'dd-MM-yyyy\'}}</span></div> <div><strong>Shipping ID :</strong> {{consignmentDetails.consignmentID}}</div> </div> <div class="col-xs-6"> <io-barcode code="{{consignmentDetails.consignmentID}}" type="CODE128B" options="{width:1,height:50,displayValue:true}"></io-barcode> </div> </div> </div> </div> </div> </div> <div class="row" style="border-bottom-style: ridge"> <div class="col-xs-6" style="border-right-style: ridge"> <div class="panel panel-default" style="border:none;background-color:white;margin-top:5px;margin-bottom: 5px"> <div class="panel-body" style="padding: 5px"> <div ng-if="!isStorePickUp"> <div><strong>Ship To:</strong></div> <strong>Customer Name:</strong> <span class="text-right">{{addressDetails.details.name}}</span> <br> </div> <div ng-if="!isStorePickUp"> <strong>Shipping Address/Billing Address :</strong> <span> {{addressDetails.details.firstLine}}, {{addressDetails.details.secondLine}}</span> <br ng-if="!isStorePickUp"> <span class="text-right" ng-if="!isStorePickUp">{{addressDetails.details.city}} , {{addressDetails.details.state}}</span> <br ng-if="!isStorePickUp"> </div> <div ng-if="!isStorePickUp"> <strong>Pincode :</strong> {{addressDetails.details.pincode}}</div> <div ng-if="!isStorePickUp"> <strong>Customer Phone No :</strong> {{addressDetails.details.mobileNumber}}</div> <div>Mode of Payment : {{paymentDetails.paymentMode}}</div> <div ng-if="paymentDetails.isCOD && grantTotal + logistic.shipmentCost - voucherAmount>0"> <div ng-if="logistic.isFEDEX"> <div style="margin-left:8px"> <span ng-if="logistic.codAirwayBillNumber">TRK#{{logistic.codAirwayBillNumber}}</span> <span ng-if="logistic.fedexReturnFormId">Form Id:{{logistic.fedexReturnFormId}}</span> </div> <div style="margin-left:8px"> <span ng-if="logistic.fedexReturnShipmentType">{{logistic.fedexReturnShipmentType|uppercase}}</span> <span>COD RETURN</span> </div> <io-barcode code="{{logistic.codBarCode}}" type="CODE128C" options="{width:1,height:100,displayValue:false}"></io-barcode> <br> </div> </div> <div>Reference Number: {{consignmentDetails.orderID}}</div> <span style="font-size:12px" ng-if="paymentDetails.isCOD && grantTotal + logistic.shipmentCost - voucherAmount>0"> <strong>Collectable Amount:</strong> {{grantTotal + logistic.shipmentCost - voucherAmount | currency:"Rs. ":2}} </span> <span style="font-size:12px" ng-if="paymentDetails.isCOD && grantTotal + logistic.shipmentCost - voucherAmount <=0"> <strong>Collectable Amount:</strong> {{ 0 | currency:"Rs. ":2}} </span> <br ng-if="paymentDetails.isCOD"> <div ng-if="paymentDetails.isCOD && grantTotal + logistic.shipmentCost - voucherAmount>0" style="float: right;margin-top: -35px;margin-right:-10px"> <span style="font-size:30px">COD</span></div> <div ng-if="paymentDetails.isCOD && grantTotal + logistic.shipmentCost - voucherAmount<=0" style="float: right;margin-top: -35px;margin-right:-10px"> <span style="font-size:30px">PREPAID</span></div> <!-- delivery modification --> <span style="font-size:12px" ng-if="!paymentDetails.isCOD&&shippingdelta!==0"> <strong>Collectable Amount:</strong> {{shippingdelta | currency:"Rs. ":2}} </span> <br ng-if="!paymentDetails.isCOD&&shippingdelta!==0"> <div ng-if="!paymentDetails.isCOD&&shippingdelta!==0"> <span style="font-size:30px">COD</span> </div> <span style="font-size:12px" ng-if="!paymentDetails.isCOD&&shippingdelta===0"> <strong>Collectable Amount:</strong> {{0 | currency:"Rs. ":2}} </span> <div ng-if="!paymentDetails.isCOD&&shippingdelta===0"> <span style="font-size:30px">PREPAID</span> </div> <br ng-if="!paymentDetails.isCOD"> <br ng-if="!paymentDetails.isCOD"> <br ng-if="!paymentDetails.isCOD"> <br ng-if="!paymentDetails.isCOD"> </div> </div> </div> <div class="col-xs-6"> <div class="panel panel-default" style="border:none;background-color:white;margin-top:5px;margin-bottom: 5px"> <div class="panel-body" style="padding: 5px"> <div ng-if="isStorePickUp"><strong>Customer Name:</strong> <span class="text-right">{{customerDetails.name}}</span> </div> <div ng-if="isStorePickUp"> <strong>Customer Phone No :</strong> {{customerDetails.phoneNumber}}</div> <div ng-if="!isStorePickUp"> <strong style="font-size:14px"> Courier Name : {{logistic.shippingPatner}} </strong></div> <div ng-if="!isStorePickUp"> <p ng-if="!logistic.isFEDEX">AWB Number :<span class="text-right">{{logistic.airwayBillNumber}}</span></p> </div> <div ng-if="!isStorePickUp"> <div ng-if="logistic.isFEDEX && logistic.fedexForwardShipmentType" style="margin-left:8px"> <span> <strong>{{logistic.fedexForwardShipmentType | uppercase}} </strong> </span> </div> <div style="margin-left:8px" ng-if="logistic.isFEDEX"> <span><bold ng-if="logistic.isFEDEX">TRK# {{logistic.airwayBillNumber}}</bold></span> <span ng-if="logistic.fedexForwardFormId">Form Id:{{logistic.fedexForwardFormId}}</span> </div> <div style="margin-left:8px"> <span ng-if="logistic.dcCode"><strong style="font-size:18px">{{logistic.dcCode | uppercase}}</strong></span> <span ng-if="logistic.countryCode"><strong style="margin-left:9px">-{{logistic.countryCode | uppercase}}</strong></span> <span ng-if="logistic.cityCode"><strong style="margin-left:9px">{{logistic.cityCode| uppercase}}</strong></span> <span style="margin-left:20px">{{addressDetails.details.pincode}}</span> </div> <p ng-if="logistic.isFEDEX"> <io-barcode code="{{logistic.barCode}}" type="CODE128C" options="{width:1,height:100,displayValue:false}"></io-barcode> </p> <p ng-if="!logistic.isFEDEX"> <io-barcode code="{{logistic.barCode}}" type="CODE128B" options="{width:1,height:50,displayValue:false}"></io-barcode> </p> <!-- <barcode type="code128b" render="img" string="{{logistic.barCode}}" options="baroptions"></barcode> --> <div ng-if="logistic.isFEDEX" style="margin-left:8px;margin-top:-2px"> <span><strong>Meter#{{logistic.fedexMeter| uppercase}}</strong></span> <span><strong>Bill T/C-{{logistic.fedexBillTc | uppercase}}</strong></span> <span><strong>Bill D/C-{{logistic.fedexBillDt| uppercase}}</strong></span> </div> </div> <div ng-if="!isStorePickUp"> <strong>Delivery Type :</strong> {{deliveryTypeForPrint | uppercase}}</div> <div ng-if="!isStorePickUp">If Undelivered, Please return to :{{ffcenterDetails.fcName}}</div> <div ng-if="!isStorePickUp">{{ffcenterDetails.streetNo}},{{ffcenterDetails.streetName}},{{ffcenterDetails.town}},{{ffcenterDetails.city}},{{ffcenterDetails.pincode}}</div> </div> </div> </div> </div> <!-- / end client details section --> <div style="margin-top:5px"></div> <table class="table table-bordered"> <thead> <tr> <th> <div>Product ID</div> </th> <th> <div>Product Description</div> </th> <th> <div>Qty</div> </th> <th> <div>MRP</div> </th> <th> <div>Amount</div> </th> <th> <div>Discount</div> </th> <th> <div>Value</div> </th> <th> <div>Tax(VAT/CST)</div> </th> <th> <div>Total</div> </th> </tr> </thead> <tbody> <tr ng-repeat="item in items"> <td>{{item.skuID}}</td> <td>{{item.description}}</td> <td class="text-right">{{item.quantityOrder}}</td> <td class="text-right">{{item.mrp}}</td> <td class="text-right">{{item.totalmrp}}</td> <td class="text-right">{{item.totaldiscount}}</td> <td class="text-right">{{item.totalvalue}}</td> <td class="text-right">{{item.totaltax}}</td> <td class="text-right">{{item.totalNetAmount}}</td> </tr> </tbody> </table> <div class="row text-right" style="bottom-border-style:solid margin-top:5px"> <div class="col-xs-3"> </div> <div class="col-xs-4 col-xs-offset-3"> <p> <strong style="font-size:14px"> <span>Grand Total :</span> <br> <span ng-if="!isStorePickUp">Shipping Cost: </span><br ng-if="!isStorePickUp"> <span ng-if="voucherAmount!==0">Voucher Amount: </span><br ng-if="voucherAmount!==0"> <span ng-if="paymentDetails.isCOD"><bold>AMOUNT TO BE PAID :</bold></span><br ng-if="paymentDetails.isCOD"> <span ng-if="!paymentDetails.isCOD">AMOUNT PAID : </span><br ng-if="!paymentDetails.isCOD"> <span ng-if="!paymentDetails.isCOD&&shippingdelta!==0">REMAINING AMOUNT : </span> <br ng-if="!paymentDetails.isCOD&&shippingdelta!==0"> </strong> </p> </div> <div class="col-xs-2"> <strong style="font-size:14px"> <span>{{grantTotal | currency:"Rs. ":2}} </span><br> <span ng-if="!isStorePickUp">{{logistic.shipmentCost | currency:"Rs. ":2}}</span><br ng-if="!isStorePickUp"> <span ng-if="voucherAmount!==0">{{voucherAmount | currency:"Rs. ":2}} </span><br ng-if="voucherAmount!==0"> <span ng-if="paymentDetails.isCOD" style="border-bottom-style: ridge;border-top-style: ridge">{{grantTotal + logistic.shipmentCost - voucherAmount | currency:"Rs. ":2}} </span><br ng-if="paymentDetails.isCOD"> <span ng-if="!paymentDetails.isCOD && logistic.shipmentCost!==0" style="border-bottom-style: ridge;border-top-style: ridge">{{grantTotal + logistic.shipmentCost - shippingdelta - voucherAmount | currency:"Rs. ":2}}</span> <span ng-if="!paymentDetails.isCOD && logistic.shipmentCost===0" style="border-bottom-style: ridge;border-top-style: ridge">{{grantTotal - voucherAmount | currency:"Rs. ":2}}</span> <br ng-if="!paymentDetails.isCOD"> <span ng-if="!paymentDetails.isCOD\n                    &&shippingdelta!==0">{{shippingdelta | currency:"Rs. ":2}} </span><br ng-if="!paymentDetails.isCOD\n                        &&shippingdelta!==0"> </strong> </div> </div> <div> <div class="text-left"> <h5>Thank you for Shopping with us</h5></div> <p> a) Keep this invoice and Manufacturer Box for Warranty purposes. <br> b) The goods sold as part of this shipment are intended for end user consumption / retail sale and not for resale. <br> c) Goods sold will not be exchanged/replaced beyond 15 days from the date of delivery. For complete details on return policy and list of network stores, please contact <b>07848866669</b> or write to us at care@nnnow.com. <br> d) For feedback / queries, please contact 07848866669 or write to us at care@nnnow.com. </p> <div class="row text-right"> <div class="col-xs-4 col-xs-offset-8"> <p> <strong> Invoicing company <br> {{ffcenterDetails.soldBy}}<br> Authorised Signatory </strong> </p> </div> </div> <div class="text-center"> <p>This is a computer generated Invoice.No signature is required.</p> </div> </div> </div> <div><img src="/app/images/footer.png"></div>');
}]);